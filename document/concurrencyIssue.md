## 동시성 문제

1. 잔액을 충전하고 사용하는 작업들이 동시에 진행되는 경우 잔액을 계산할 때 충돌되어 정확하게 계산되지 않음.
2. 두 명 이상의 사람들이 한 상품을 동시에 주문하는 경우 재고를 계산할 때 처작업이 충돌되어 정확하게 게산되지 않음.
3. 잔액 충전 버튼을 더블클릭 시 두 번 충전됨.
4. 주문 버튼을 두번 클릭 시 두번 주문되어 잔액과 재고가 두 번 차감됨.

 - 낙관적 락
   - 구현의 복잡도: 보통
   - 성능: 높음
     - 동시성 문제가 발생되었을 때 데이터의 안전성은 보장할 수 있지만, 버전 충돌로 인해 데이터를 찾지 못하는 트랜젝션이 생겨 요청이 실행되지 않을 수 있다. 
 - 비관적 락
   - 구현의 복잡도: 낮음
   - 성능: 보통
   - 트랜젝션이 안전하게 기다렸다가 진행되기 때문에 데이터의 안전성도 보장할 수 있다. 하지만 다른 트랜젝션이 해당 자원에 접근할 수 없어서 성능이 저하될 수 있고 더블클릭하여 트랜잭션이 두 번 실행되는 케이스는 해결하기 어렵다. 
 - 분산락
   - 구현의 복잡도: 높음
   - 성능: 높음
   - 메시지를 메모리에 저장하여 순차적으로 진행하기 때문에 서버가 다운된다 하더라도 복구가 가능하다. 그만큼 안정성이 매우 잘 보장된다. 



<br/><br/>
분산락은 구현하는데 학습시간과 구현시간이 오랜시간 걸려서 적용하기 힘들다.
<br/><br/>
낙관적락은 성능이 좋지만 여러 요청이 동시에 들어올 경우 진행되지 않는 트랜젝션이 있을 수 있어서 적용하면 안될 것 같다.
<br/><br/>
비관적락은 성능이 낙관적락보다 비교적 떨어지지만 많이 떨어지지 않고, 더블클릭 이슈에 대해 취약하지만 프론트앤드에서 해결 가능한 이슈이기 때문에 비관적락으로 적용해봐야겠다.

 
